<input id="inputFile"
       #inputFile
       type="file"
       accept=".txt"
       (change)="onArquivoAnexado($event)"
       style="display: none;" />

<div class="container">
  <div class="row content">
    <div class="col">
      <div class=listaSlide></div>
    </div>
    <div class="col-md-8 col-sm-12 formularioApresentacao">
      <form [formGroup]="formPresentation"
            (ngSubmit)="onSubmit()">

        <div class="row presentation-form">

          <div class="col-12">
            <mat-form-field appearance='outline'>
              <mat-label>Assunto</mat-label>
              <input formControlName="term"
                     matInput
                     required
                     type="text" />

              <mat-error class="invalid-feedback"
                         *ngIf="getErrorsInput('term')?.required">
                Campo obrigat√≥rio
              </mat-error>

            </mat-form-field>
          </div>

          <div class="col-12">
            <mat-form-field appearance="outline">
              <mat-label>Quantidade de Slides</mat-label>
              <input formControlName="amountOfSlides"
                     matInput
                     type="text" />
            </mat-form-field>
          </div>

          <div class="col-6">
            <mat-form-field appearance="outline">
              <mat-label>Idioma</mat-label>
              <mat-select formControlName="idiom">
                <mat-option *ngFor="let idiom of idioms"
                            [value]="idiom.name">
                  {{ idiom.clientData }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="col-6">
            <mat-form-field appearance="outline">
              <mat-label>Fonte de Dados</mat-label>
              <mat-select formControlName="dataSource">
                <mat-option *ngFor="let dataSource of dataSources"
                            [value]="dataSource.name">
                  {{ dataSource.clientData }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="col"
               *ngIf="dataSourceSelected === 'TXT'">
            <mat-form-field appearance='outline'>
              <mat-label>Texto</mat-label>
              <textarea formControlName="text"
                        rows="15"
                        matInput>
              </textarea>
            </mat-form-field>
          </div>

          <div *ngIf="dataSourceSelected==='FILE'"
               class="col-12">
            <div class="input-group mb-3">
              <input type="text"
                     formControlName="fileName"
                     readonly
                     disabled
                     class="form-control"
                     placeholder="Anexe um arquivo texto (.txt)"
                     aria-label="Anexe um arquivo texto (.txt)"
                     aria-describedby="basic-addon2">
              <div class="input-group-append">
                <button *ngIf="fileName?.value"
                        class="btn btn-outline-secondary"
                        (click)="onLimparAttachedFile($event)"
                        type="button">
                  Limpar
                </button>
                <button class="btn btn-outline-secondary"
                        (click)="onClickAnexarArquivoButton($event)"
                        type="button">
                  Anexar
                </button>
              </div>
            </div>
          </div>

          <div class="col-12">
            <button mat-stroked-button
                    color="primary">
              Salvar
            </button>
          </div>

        </div>

      </form>
    </div>
  </div>
</div>
